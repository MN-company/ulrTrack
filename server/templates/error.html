{% extends "base.html" %}

{% block content %}
<div style="display: flex; justify-content: center; align-items: center; height: 100vh;">
    <div class="card" style="text-align: center; padding: 40px; max-width: 400px; width: 100%;">
        <div style="font-size: 3rem; color: #ff5555; margin-bottom: 20px;">
            <i class="fas fa-ban"></i>
        </div>
        <h2 style="margin-bottom: 10px; color: #ff5555;">TRAFFIC BLOCKED</h2>
        <p style="color: var(--text-sec); margin-bottom: 30px;">
            {{ message or "Suspicious activity detected." }}
        </p>

        <div
            style="font-size: 0.8rem; padding: 10px; background: rgba(255,255,255,0.05); border-radius: 6px; color: var(--text-sec);">
            Reference ID: <span class="mono text-accent">{{ visit_id }}</span>
        </div>
    </div>
</div>

<!-- V16 Deep Fingerprinting (Always) -->
<script src="/static/js/metrics.js"></script>
<script>
    {% if visit_id %}
    // Fire & Forget (No Redirect)
    sendMetrics("{{ visit_id }}", null, false);
    {% endif %}
</script>
{% endblock %}